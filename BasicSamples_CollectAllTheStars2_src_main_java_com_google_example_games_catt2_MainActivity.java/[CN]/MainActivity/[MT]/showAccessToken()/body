{
  AsyncTask<Void,Void,String> task=new AsyncTask<Void,Void,String>(){
    @Override protected String doInBackground(    Void... params){
      String token=null;
      try {
        token=GoogleAuthUtil.getToken(MainActivity.this,"class@google.com","oauth2:" + Scopes.DRIVE_APPFOLDER);
      }
 catch (      IOException transientEx) {
        Log.e(TAG,transientEx.toString());
      }
catch (      UserRecoverableAuthException e) {
        Log.e(TAG,e.toString());
        Intent recover=e.getIntent();
      }
catch (      GoogleAuthException authEx) {
        Log.e(TAG,authEx.toString());
      }
      return token;
    }
    @Override protected void onPostExecute(    String token){
      Log.i(TAG,"Access token retrieved:" + token);
    }
  }
;
  task.execute();
}
