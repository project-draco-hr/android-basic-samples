{
  log("onCreate.");
  super.onCreate(savedInstanceState);
  setContentView(R.layout.activity_main);
  mGoogleApiClient=new GoogleApiClient.Builder(this).addConnectionCallbacks(this).addOnConnectionFailedListener(this).addApi(Plus.API).addScope(Plus.SCOPE_PLUS_LOGIN).addApi(Games.API).addScope(Games.SCOPE_GAMES).addApi(AppStateManager.API).addScope(AppStateManager.SCOPE_APP_STATE).addApi(Drive.API).addScope(Drive.SCOPE_APPFOLDER).build();
  loadLocal();
  for (  int id : LEVEL_BUTTON_IDS) {
    findViewById(id).setOnClickListener(this);
  }
  findViewById(R.id.button_next_world).setOnClickListener(this);
  findViewById(R.id.button_prev_world).setOnClickListener(this);
  findViewById(R.id.button_sign_in).setOnClickListener(this);
  findViewById(R.id.button_sign_out).setOnClickListener(this);
  ((RatingBar)findViewById(R.id.gameplay_rating)).setOnRatingBarChangeListener(this);
  mSaveGame=new SaveGame();
  updateUi();
}
